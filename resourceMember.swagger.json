{
  "openapi":"3.0.3",
  "info":{
    "title":"resourceMember",
    "description":"resourceMember",
    "version":"1.0"
  },
  "tags":[
    {
      "name":"资源成员",
      "description":"resourceMember"
    }
  ],
  "paths":{
    "/flow/organizations/{organizationId}/resourceMembers/resourceTypes/{resourceType}/resourceIds/{resourceId}": {
      "delete": {
        "tags": [
          "资源成员"
        ],
        "summary": "删除资源成员",
        "operationId": "DeleteResourceMember",
        "description": "资源成员",
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "description": "企业Id",
            "example": "5ebbc0228123212b59xxxxx",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resourceType",
            "in": "path",
            "description": "资源类型 pipeline 流水线 hostGroup 主机组",
            "example": "pipeline",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resourceId",
            "in": "path",
            "description": "资源Id",
            "example": "123",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "description": "用户Id",
            "example": "2211221",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "content": {
              "*/*": {
                "schema": {
                  "name":"success",
                  "type": "boolean",
                  "description": "是否成功",
                  "example": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "get": {
        "tags": [
          "资源成员"
        ],
        "summary": "获取资源成员列表",
        "operationId": "ListResourceMembers",
        "description": "获取资源成员列表",
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "description": "企业Id",
            "example": "5ebbc0228123212b59xxxxx",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resourceType",
            "in": "path",
            "description": "资源类型 pipeline 流水线 hostGroup 主机组",
            "example": "pipeline",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resourceId",
            "in": "path",
            "description": "资源Id",
            "example": "123",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "资源成员详情",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/ResourceMember"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "put": {
        "tags": [
          "资源成员"
        ],
        "summary": "更新资源成员",
        "operationId": "UpdateResourceMember",
        "description": "更新资源成员",
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "description": "企业Id",
            "example": "5ebbc0228123212b59xxxxx",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resourceType",
            "in": "path",
            "description": "资源类型 pipeline 流水线 hostGroup 主机组",
            "example": "pipeline",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resourceId",
            "in": "path",
            "description": "资源Id",
            "example": "123",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roleName",
            "in": "query",
            "description": "角色部署组 hostGroup: user(成员，使用权限) admin(管理员，使用编辑权限) 流水线 pipeline: admin(管理员，查看、运行、编辑权限) member(运行权限) viewer(查看权限)",            "example": "admin",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "description": "用户id",
            "example": "2211221",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "content": {
              "*/*": {
                "schema": {
                  "name":"success",
                  "type": "boolean",
                  "description": "是否成功",
                  "example": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "post": {
        "tags": [
          "资源成员"
        ],
        "summary": "插入资源成员",
        "operationId": "CreateResourceMember",
        "description": "插入资源成员",
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "description": "企业Id",
            "example": "5ebbc0228123212b59xxxxx",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resourceType",
            "in": "path",
            "description": "资源类型 pipeline 流水线 hostGroup 主机组",
            "example": "pipeline",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resourceId",
            "in": "path",
            "description": "资源Id",
            "example": "123",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "roleName",
            "in": "query",
            "description": "角色部署组 hostGroup: user(成员，使用权限) admin(管理员，使用编辑权限) owner(拥有者，所有权限)  流水线 pipeline: owner(拥有者，所有权限) admin(管理员，查看、运行、编辑权限) member(运行权限) viewer(查看权限)",
            "example": "admin",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "description": "用户id",
            "example": "2211221",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "content": {
              "*/*": {
                "schema": {
                  "name":"success",
                  "type": "boolean",
                  "description": "是否成功",
                  "example": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/flow/organizations/{organizationId}/resourceMembers/resourceTypes/{resourceType}/resourceIds/{resourceId}/transfer/owner": {
      "post": {
        "tags": [
          "资源成员"
        ],
        "summary": "移交资源对象拥有者",
        "operationId": "UpdateResourceOwner",
        "description": "资源成员",
        "parameters": [
          {
            "name": "organizationId",
            "in": "path",
            "description": "企业Id",
            "example": "5ebbc0228123212b59xxxxx",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resourceType",
            "in": "path",
            "description": "资源类型 pipeline 流水线 hostGroup 主机组",
            "example": "pipeline",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "resourceId",
            "in": "path",
            "description": "资源Id",
            "example": "123",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "newOwnerId",
            "in": "query",
            "description": "新拥有者用户Id",
            "example": "2211221",
            "required": true,
            "style": "simple",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功",
            "content": {
              "*/*": {
                "schema": {
                  "name":"success",
                  "type": "boolean",
                  "description": "是否成功",
                  "example": true
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    }
  },
  "components":{
    "schemas":{
      "ResourceMember":{
        "title":"ResourceMember",
        "type":"object",
        "properties":{
          "username":{
            "type":"string",
            "description":"用户名",
            "example":"张三"
          },
          "userId":{
            "type":"string",
            "description":"用户id",
            "example":"2211221"
          },
          "role":{
            "type":"string",
            "description":"用户角色",
            "example":"admin"
          }
        }
      }
    }
  },
  "security":[
    {
      "ApiKeyAuth":[
        "PERSONAL",
        "ORGANIZATION",
        "APPLICATION"
      ]
    }
  ]
}
